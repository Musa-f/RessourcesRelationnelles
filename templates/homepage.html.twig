{% extends 'index.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block container %}
<div data-controller="responses--resourceResponse">
    <div class="bg-homepage">
        {% if app.user %}
        <button class="btn d-none d-md-block" data-bs-toggle="modal" data-bs-target="#modalNewRessource">Créer une ressource</button>
        {% endif %}

        <div class="banner"></div>

        <div class="research-box col-10 col-lg-5" data-controller="ressource--searchResource">
            <div class="row text-center">
                <h3>Rechercher une ressource</h3>
            </div>
            <div class="row search-text m-2">
                <div class="col input-group">
                    <input type="text" class="form-control" placeholder="Mot-clé">
                    <div class="input-group-append">
                        <input 
                            type="submit"
                            class="input-group-text filter-btn" 
                            value="Valider"
                            data-action="click->ressource--searchResource#searchResources"
                        >
                    </div>
                </div>
            </div>
            <div class="row filters m-2">
                <div class="col-lg col-sm-10 my-2">
                    <select class="form-select select-category">
                        <option selected>Catégorie</option>
                    </select>
                </div>
                <div class="col-lg col-sm-10 my-2">
                    <select class="form-select select-link">
                        <option selected>Relation</option>
                    </select>
                </div>
                <div class="col-lg col-sm-10 my-2">
                    <select class="form-select">
                        <option selected>Filtrer par</option>
                        <option value="1">Popularité</option>
                        <option value="1">Croissant</option>
                        <option value="1">Décroissant</option>
                    </select>
                </div>
            </div>
        </div>
    </div>


    <div class="container">
        <div class="row justify-content-center">
            <div class="col-5 text-center">
                <hr>
            </div>
        </div>

        {% if app.user %}
            {% include 'ressource/new_form.html.twig' %}
        {% endif %}

        <div class="container-resource">
            {% include 'ressource/ressource.html.twig' %}
        </div>

        <div class="text-center mb-4">
            <button 
                id="load-more-button" 
                class="btn button-primary" 
                data-action="click->responses--resourceResponse#loadMore"
            >Afficher plus</button>
        </div>  
    </div>
</div>
{% endblock %} 